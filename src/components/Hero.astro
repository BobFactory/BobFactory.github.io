---
import { Icon } from "astro-icon/components";
---

<section class="flex items-center">
  <div
    class="container mx-auto px-4 sm:px-6 md:px-8 lg:px-12 xl:px-16 2xl:px-20"
  >
    <div
      class="flex flex-col lg:grid lg:grid-cols-12 gap-8 sm:gap-12 md:gap-16 lg:gap-20 py-16 sm:py-20 md:py-24 lg:py-28 xl:py-32 2xl:py-36"
    >
      <!-- Left Section -->
      <div
        class="lg:col-span-7 flex flex-col justify-center space-y-4 sm:space-y-5 md:space-y-6 lg:space-y-7"
      >
        <h1
          class="text-4xl lg:text-5xl xl:text-6xl 2xl:text-7xl font-montserrat font-bold text-center lg:text-left leading-[1.1]"
        >
          <span class="block sm:inline">Custom</span>
          <span
            class="block sm:inline text-transparent bg-clip-text bg-gradient-to-r from-primary-500 to-secondary-500"
          >
            Mobile & Web Apps
          </span>
          <span class="block">Built with Flutter, React & Modern Stack</span>
        </h1>

        <p
          class="text-sm sm:text-base md:text-lg lg:text-xl xl:text-2xl text-center lg:text-left text-gray-600 font-poppins leading-relaxed max-w-2xl mx-auto lg:mx-0"
        >
          I help startups and teams launch reliable, high-quality apps â€” fast.
          End-to-end development from concept to code.
        </p>

        <div
          class="flex flex-col sm:flex-row items-center lg:items-start justify-center lg:justify-start gap-4 sm:gap-6 md:gap-8 pt-2 sm:pt-4 md:pt-6"
        >
          <a
            href="#contact"
            class="btn btn-accent w-full sm:w-auto py-3 sm:py-4 md:py-5 lg:py-6 px-6 sm:px-8 md:px-12 lg:px-16 text-sm sm:text-base md:text-lg lg:text-xl font-semibold transition-all duration-300 hover:scale-105 hover:shadow-lg focus:outline-none focus:ring-4 focus:ring-primary-500/50 focus:scale-105"
          >
            <span>Book a call</span>
          </a>
          <a
            href="/resume.pdf"
            download
            @click="window.trackButtonClick?.('resume_download')"
            class="btn btn-accent-outline w-full sm:w-auto py-3 sm:py-4 md:py-5 lg:py-6 px-auto text-sm sm:text-base md:text-lg lg:text-xl font-semibold group transition-all duration-300 hover:scale-105 hover:shadow-lg focus:outline-none focus:ring-4 focus:ring-primary-500/50 focus:scale-105"
          >
            <span>Download CV</span>
            <Icon
              name="download"
              class="size-4 md:size-5 lg:size-6 group-hover:scale-110 group-hover:translate-y-[-2px] transition-all duration-300"
            />
          </a>
        </div>
      </div>

      <!-- Right Section -->
      <div
        class="lg:col-span-5 flex flex-col items-center justify-center order-first lg:order-last"
      >
        <!-- ID Card Container -->
        <div
          class="relative bg-white rounded-xl shadow-2xl border-2 border-gray-100 p-8 sm:p-10 md:p-12 w-full max-w-[320px] sm:max-w-[380px] md:max-w-[420px] lg:max-w-none transform hover:scale-105 transition-all duration-500 hover:shadow-3xl"
        >
          <!-- Card Header with Company Branding -->
          <div class="flex items-center justify-center mb-6 sm:mb-8">
            <div
              class="w-16 h-1 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-full"
            >
            </div>
          </div>

          <!-- Profile Image -->
          <div
            x-data="{ loaded: false }"
            class="relative mx-auto mb-6 sm:mb-8 w-32 h-32 sm:w-40 sm:h-40 md:w-48 md:h-48"
          >
            <!-- Actual Image -->
            <img
              src="img_hero.webp"
              alt="Bawender Yandra - Portfolio Image"
              loading="lazy"
              @load="loaded = true"
              :class="{ 'opacity-100': loaded, 'opacity-0': !loaded }"
              class="absolute inset-0 w-full h-full object-cover rounded-full shadow-xl border-4 border-white transition-all duration-700 ease-out hover:shadow-2xl hover:scale-105 focus:outline-none focus:ring-4 focus:ring-primary-500/50 cursor-pointer"
              tabindex="0"
            />
          </div>

          <!-- Profile Info -->
          <div class="text-center space-y-4 sm:space-y-5">
            <!-- Name -->
            <h2
              class="text-lg sm:text-xl md:text-2xl lg:text-xl xl:text-2xl font-montserrat font-bold text-gray-900 tracking-tight"
            >
              Bawender Yandra
            </h2>

            <!-- Typing Animation -->
            <div
              x-data="{
                   text: '',
                   textArray: ['Mobile Dev', 'Web Dev', 'ReactJS Dev', 'Native Android Dev', 'Native iOS Dev', 'Flutter Dev'],
                   textIndex: 0,
                   charIndex: 0,
                   typeSpeed: 100,
                   cursorSpeed: 540,
                   pauseEnd: 1000,
                   pauseStart: 20,
                   direction: 'forward'
                 }"
              x-init="$nextTick(() => {
                   let typingInterval = setInterval(startTyping, $data.typeSpeed);
                 
                   function startTyping(){
                     let current = $data.textArray[$data.textIndex];
                     
                     if($data.charIndex > current.length){
                       $data.direction = 'backward';
                       clearInterval(typingInterval);
                       
                       setTimeout(function(){
                         typingInterval = setInterval(startTyping, $data.typeSpeed);
                       }, $data.pauseEnd);
                     }   
                       
                     $data.text = current.substring(0, $data.charIndex);
                     
                     if($data.direction == 'forward') {
                       $data.charIndex += 1;
                     } else {
                       if($data.charIndex == 0) {
                         $data.direction = 'forward';
                         clearInterval(typingInterval);
                         setTimeout(function(){
                           $data.textIndex += 1;
                           if($data.textIndex >= $data.textArray.length) {
                             $data.textIndex = 0;
                           }
                           typingInterval = setInterval(startTyping, $data.typeSpeed);
                         }, $data.pauseStart);
                       }
                       $data.charIndex -= 1;
                     }
                   }
                             
                   setInterval(function(){
                     if($refs.cursor.classList.contains('hidden')) {
                       $refs.cursor.classList.remove('hidden');
                     } else {
                       $refs.cursor.classList.add('hidden');
                     }
                   }, $data.cursorSpeed);
                 })"
              class="flex items-center justify-center gap-2"
            >
              <div class="relative flex items-center justify-center h-auto">
                <p
                  class="text-lg sm:text-xl md:text-2xl lg:text-xl xl:text-2xl font-poppins font-semibold text-primary-600 min-h-[1.5em] tracking-wide"
                  x-text="text"
                >
                </p>
                <span
                  class="absolute right-0 w-1 -mr-2 bg-primary-500 h-3/4 animate-pulse"
                  x-ref="cursor"></span>
              </div>
            </div>

            <!-- Available Badge -->
            <div
              class="inline-flex items-center px-4 py-2 bg-gradient-to-r from-primary-50 to-secondary-50 rounded-full border border-primary-200"
            >
              <div
                class="w-2 h-2 bg-accent-500 rounded-full mr-2 animate-pulse"
              >
              </div>
              <span class="text-sm font-poppins font-medium text-primary-700"
                >Available for Projects</span
              >
            </div>
          </div>

          <!-- Background Pattern -->
          <div class="absolute top-0 right-0 w-20 h-20 opacity-5">
            <div
              class="w-full h-full bg-gradient-to-br from-primary-500 to-secondary-500 rounded-bl-3xl"
            >
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
